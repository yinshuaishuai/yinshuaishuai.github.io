<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 5.4.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/ys_ico.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/ys_ico.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.28/fancybox/fancybox.css" integrity="sha256-6cQIC71/iBIYXFK+0RHAvwmjwWzkWd+r7v/BX3/vZDc=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"ysymj.gitee.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.19.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="哔哩哔哩视频《SpringBoot2零基础入门教程》学习笔记，地址：https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV19K4y1L7MT&#x2F;，本视频只有第一季（核心技术）没有第二季（响应式编程）。">
<meta property="og:type" content="article">
<meta property="og:title" content="尚硅谷SpringBoot2核心技术-基础入门(一)">
<meta property="og:url" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="YS">
<meta property="og:description" content="哔哩哔哩视频《SpringBoot2零基础入门教程》学习笔记，地址：https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV19K4y1L7MT&#x2F;，本视频只有第一季（核心技术）没有第二季（响应式编程）。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/spring%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88%E5%9B%BE%E7%A4%BA.png">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/spring%E7%9A%84%E7%94%9F%E6%80%81%E5%9B%BE%E7%A4%BA.png">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/spring5%E7%9A%84%E9%87%8D%E5%A4%A7%E5%8D%87%E7%BA%A7%E5%9B%BE%E7%A4%BA.png">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E5%9B%BE%E7%A4%BA.png">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%A4%BA.png">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/springboot%E5%AE%98%E7%BD%91%E5%9B%BE%E7%A4%BA1.png">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/springboot%E5%AE%98%E7%BD%91%E5%9B%BE%E7%A4%BA2.png">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/springboot%E5%8D%87%E7%BA%A7%E5%86%85%E5%AE%B9%E5%9B%BE%E7%A4%BA.png">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E6%9D%A1%E4%BB%B6%E8%A3%85%E9%85%8D%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%E5%9B%BE%E7%A4%BA.png">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/factories%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%E7%B1%BB%E5%9B%BE%E7%A4%BA.png">
<meta property="og:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/AopAutoConfiguration%E7%B1%BB%E5%9B%BE%E7%A4%BA.png">
<meta property="article:published_time" content="2023-07-15T05:15:05.000Z">
<meta property="article:modified_time" content="2023-12-31T01:58:52.021Z">
<meta property="article:author" content="YS">
<meta property="article:tag" content="SpringBoot2">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/spring%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88%E5%9B%BE%E7%A4%BA.png">


<link rel="canonical" href="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/","path":"2023/07/15/spring/尚硅谷SpringBoot2核心技术-基础入门/","title":"尚硅谷SpringBoot2核心技术-基础入门(一)"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>尚硅谷SpringBoot2核心技术-基础入门(一) | YS</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">YS</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">学无止境</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#spring%E4%B8%8Espringboot"><span class="nav-number">1.</span> <span class="nav-text">spring与springboot</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#spring%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">1.1.</span> <span class="nav-text">spring能做什么？</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#spring%E7%9A%84%E8%83%BD%E5%8A%9B"><span class="nav-number">1.1.1.</span> <span class="nav-text">spring的能力</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring%E7%9A%84%E7%94%9F%E6%80%81"><span class="nav-number">1.1.2.</span> <span class="nav-text">spring的生态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring5%E7%9A%84%E9%87%8D%E5%A4%A7%E5%8D%87%E7%BA%A7"><span class="nav-number">1.1.3.</span> <span class="nav-text">spring5的重大升级</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">响应式编程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E9%83%A8%E6%BA%90%E7%A0%81%E8%AE%BE%E8%AE%A1"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">内部源码设计</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8SpringBoot"><span class="nav-number">1.2.</span> <span class="nav-text">为什么使用SpringBoot</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringBoot%E4%BC%98%E7%82%B9"><span class="nav-number">1.2.1.</span> <span class="nav-text">SpringBoot优点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringBoot%E7%BC%BA%E7%82%B9"><span class="nav-number">1.2.2.</span> <span class="nav-text">SpringBoot缺点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%B6%E4%BB%A3%E8%83%8C%E6%99%AF"><span class="nav-number">1.3.</span> <span class="nav-text">时代背景</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.3.1.</span> <span class="nav-text">微服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F"><span class="nav-number">1.3.2.</span> <span class="nav-text">分布式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%9A%84%E5%9B%B0%E9%9A%BE"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">分布式的困难</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%9A%84%E8%A7%A3%E5%86%B3"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">分布式的解决</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%91%E5%8E%9F%E7%94%9F"><span class="nav-number">1.3.3.</span> <span class="nav-text">云原生</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8A%E4%BA%91%E7%9A%84%E5%9B%B0%E9%9A%BE"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">上云的困难</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0SpringBoot"><span class="nav-number">1.4.</span> <span class="nav-text">如何学习SpringBoot</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%98%E7%BD%91%E6%96%87%E6%A1%A3%E6%9E%B6%E6%9E%84"><span class="nav-number">1.4.1.</span> <span class="nav-text">官网文档架构</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot2%E5%85%A5%E9%97%A8"><span class="nav-number">2.</span> <span class="nav-text">SpringBoot2入门</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAmaven%E5%B7%A5%E7%A8%8B"><span class="nav-number">2.1.</span> <span class="nav-text">创建maven工程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96"><span class="nav-number">2.2.</span> <span class="nav-text">引入依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%BB%E7%A8%8B%E5%BA%8F"><span class="nav-number">2.3.</span> <span class="nav-text">创建主程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E5%86%99%E4%B8%9A%E5%8A%A1"><span class="nav-number">2.4.</span> <span class="nav-text">编写业务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95"><span class="nav-number">2.5.</span> <span class="nav-text">测试</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%80%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="nav-number">2.6.</span> <span class="nav-text">简化配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%80%E5%8C%96%E9%83%A8%E7%BD%B2"><span class="nav-number">2.7.</span> <span class="nav-text">简化部署</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%86%E8%A7%A3%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86"><span class="nav-number">3.</span> <span class="nav-text">了解自动配置原理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SpringBoot%E7%89%B9%E7%82%B9"><span class="nav-number">3.1.</span> <span class="nav-text">SpringBoot特点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="nav-number">3.1.1.</span> <span class="nav-text">依赖管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%88%B6%E9%A1%B9%E7%9B%AE%E5%81%9A%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="nav-number">3.1.1.1.</span> <span class="nav-text">父项目做依赖管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E5%AF%BC%E5%85%A5starter%E5%9C%BA%E6%99%AF%E5%90%AF%E5%8A%A8%E5%99%A8"><span class="nav-number">3.1.1.2.</span> <span class="nav-text">开发导入starter场景启动器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%A0%E9%9C%80%E5%85%B3%E6%B3%A8%E7%89%88%E6%9C%AC%E5%8F%B7%EF%BC%8C%E8%87%AA%E5%8A%A8%E7%89%88%E6%9C%AC%E4%BB%B2%E8%A3%81"><span class="nav-number">3.1.1.3.</span> <span class="nav-text">无需关注版本号，自动版本仲裁</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="nav-number">3.1.1.4.</span> <span class="nav-text">可以修改默认版本号</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="nav-number">3.1.2.</span> <span class="nav-text">自动配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E5%8A%9F%E8%83%BD"><span class="nav-number">3.2.</span> <span class="nav-text">容器功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E6%B7%BB%E5%8A%A0"><span class="nav-number">3.2.1.</span> <span class="nav-text">组件添加</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">@Configuration</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bean-Component-Controller-Service-Repository"><span class="nav-number">3.2.1.2.</span> <span class="nav-text">@Bean  @Component @Controller @Service @Repository</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ComponentScan-Import"><span class="nav-number">3.2.1.3.</span> <span class="nav-text">@ComponentScan @Import</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Conditional"><span class="nav-number">3.2.1.4.</span> <span class="nav-text">@Conditional</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E7%94%9F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%BC%95%E5%85%A5"><span class="nav-number">3.2.2.</span> <span class="nav-text">原生配置文件引入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ImportResource"><span class="nav-number">3.2.2.1.</span> <span class="nav-text">@ImportResource</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%BB%91%E5%AE%9A"><span class="nav-number">3.2.3.</span> <span class="nav-text">配置绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ConfigurationProperties"><span class="nav-number">3.2.3.1.</span> <span class="nav-text">@ConfigurationProperties</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#EnableConfigurationProperties-ConfigurationProperties"><span class="nav-number">3.2.3.2.</span> <span class="nav-text">@EnableConfigurationProperties + @ConfigurationProperties</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Component-ConfigurationProperties"><span class="nav-number">3.2.3.3.</span> <span class="nav-text">@Component + @ConfigurationProperties</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86%E5%85%A5%E9%97%A8"><span class="nav-number">3.3.</span> <span class="nav-text">自动配置原理入门</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%95%E5%AF%BC%E5%8A%A0%E8%BD%BD%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="nav-number">3.3.1.</span> <span class="nav-text">引导加载自动配置类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SpringBootConfiguration"><span class="nav-number">3.3.1.1.</span> <span class="nav-text">@SpringBootConfiguration</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ComponentScan"><span class="nav-number">3.3.1.2.</span> <span class="nav-text">@ComponentScan</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#EnableAutoConfiguration"><span class="nav-number">3.3.1.3.</span> <span class="nav-text">@EnableAutoConfiguration</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#AutoConfigurationPackage"><span class="nav-number">3.3.1.3.1.</span> <span class="nav-text">@AutoConfigurationPackage</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Import-AutoConfigurationImportSelector-class"><span class="nav-number">3.3.1.3.2.</span> <span class="nav-text">@Import({AutoConfigurationImportSelector.class})</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%89%E9%9C%80%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="nav-number">3.3.2.</span> <span class="nav-text">按需开启自动配置项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE"><span class="nav-number">3.3.3.</span> <span class="nav-text">修改默认配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="nav-number">3.3.3.1.</span> <span class="nav-text">最佳实践</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="nav-number">3.4.</span> <span class="nav-text">开发小技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Lombok"><span class="nav-number">3.4.1.</span> <span class="nav-text">Lombok</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dev-tools"><span class="nav-number">3.4.2.</span> <span class="nav-text">dev-tools</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Initailizr-%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">3.4.3.</span> <span class="nav-text">Spring Initailizr(项目初始化)</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="YS"
      src="/images/author.png">
  <p class="site-author-name" itemprop="name">YS</p>
  <div class="site-description" itemprop="description">学海无涯苦作舟</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">63</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ysymj.gitee.io/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.png">
      <meta itemprop="name" content="YS">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YS">
      <meta itemprop="description" content="学海无涯苦作舟">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="尚硅谷SpringBoot2核心技术-基础入门(一) | YS">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          尚硅谷SpringBoot2核心技术-基础入门(一)
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-07-15 13:15:05" itemprop="dateCreated datePublished" datetime="2023-07-15T13:15:05+08:00">2023-07-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-31 09:58:52" itemprop="dateModified" datetime="2023-12-31T09:58:52+08:00">2023-12-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/java%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">java框架</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>12k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>22 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="spring与springboot"><a href="#spring与springboot" class="headerlink" title="spring与springboot"></a>spring与springboot</h1><h2 id="spring能做什么？"><a href="#spring能做什么？" class="headerlink" title="spring能做什么？"></a>spring能做什么？</h2><h3 id="spring的能力"><a href="#spring的能力" class="headerlink" title="spring的能力"></a>spring的能力</h3><ul>
<li>微服务开发</li>
<li>响应式编程</li>
<li>分布式云开发</li>
<li>web开发</li>
<li>无服务开发（函数式服务）</li>
<li>事件驱动</li>
<li>批处理业务</li>
</ul>
<p><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/spring%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88%E5%9B%BE%E7%A4%BA.png" alt="spring能做什么图示"></p>
<h3 id="spring的生态"><a href="#spring的生态" class="headerlink" title="spring的生态"></a>spring的生态</h3><p>spring的生态覆盖了一下内容</p>
<ul>
<li>web开发</li>
<li>数据访问</li>
<li>安全控制</li>
<li>分布式</li>
<li>消息服务</li>
<li>移动开发</li>
<li>批处理</li>
<li>…..</li>
</ul>
<p><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/spring%E7%9A%84%E7%94%9F%E6%80%81%E5%9B%BE%E7%A4%BA.png" alt="spring的生态图示"></p>
<h3 id="spring5的重大升级"><a href="#spring5的重大升级" class="headerlink" title="spring5的重大升级"></a>spring5的重大升级</h3><h4 id="响应式编程"><a href="#响应式编程" class="headerlink" title="响应式编程"></a>响应式编程</h4><p><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/spring5%E7%9A%84%E9%87%8D%E5%A4%A7%E5%8D%87%E7%BA%A7%E5%9B%BE%E7%A4%BA.png" alt="spring5的重大升级图示"></p>
<h4 id="内部源码设计"><a href="#内部源码设计" class="headerlink" title="内部源码设计"></a>内部源码设计</h4><p>基于Java8的一些新特性，如：接口默认实现，重新设计源码架构</p>
<h2 id="为什么使用SpringBoot"><a href="#为什么使用SpringBoot" class="headerlink" title="为什么使用SpringBoot"></a>为什么使用SpringBoot</h2><blockquote>
<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can “just run”.<br>能快速创建出生产级别的Spring应用</p>
</blockquote>
<h3 id="SpringBoot优点"><a href="#SpringBoot优点" class="headerlink" title="SpringBoot优点"></a>SpringBoot优点</h3><ul>
<li>Create stand-alone Spring applications<ul>
<li>创建独立Spring应用</li>
</ul>
</li>
<li>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)<ul>
<li>内嵌web服务器</li>
</ul>
</li>
<li>Provide opinionated ‘starter’ dependencies to simplify your build configuration<ul>
<li>自动starter依赖，简化构建配置</li>
</ul>
</li>
<li>Automatically configure Spring and 3rd party libraries whenever possible<ul>
<li>自动配置spring以及第三方功能</li>
</ul>
</li>
<li>Provide production-ready features such as metrics, health checks, and externalized configuration<ul>
<li>提供生产级别的监控、健康检查及外部化配置</li>
</ul>
</li>
<li>Absolutely no code generation and no requirement for XML configuration<ul>
<li>无代码生成、无需编写XML</li>
</ul>
</li>
</ul>
<blockquote>
<p>SpringBoot是整合Spring技术栈的一站式框架<br>SpringBoot是简化Spring技术栈的快速开发脚手架</p>
</blockquote>
<h3 id="SpringBoot缺点"><a href="#SpringBoot缺点" class="headerlink" title="SpringBoot缺点"></a>SpringBoot缺点</h3><ul>
<li>人称版本帝，迭代快，需要时刻关注变化</li>
<li>封装太深，内部原理复杂，不容易精通</li>
</ul>
<h2 id="时代背景"><a href="#时代背景" class="headerlink" title="时代背景"></a>时代背景</h2><h3 id="微服务"><a href="#微服务" class="headerlink" title="微服务"></a>微服务</h3><ul>
<li>微服务是一种架构风格</li>
<li>一个应用拆分为一组小型服务</li>
<li>每个服务运行在自己的进程内，也就是可独立部署和升级</li>
<li>服务之间使用轻量级HTTP交互</li>
<li>服务围绕业务功能拆分</li>
<li>可以由全自动部署机制独立部署</li>
<li>去中心化，服务自治。服务可以使用不同的语言、不同的存储技术</li>
</ul>
<h3 id="分布式"><a href="#分布式" class="headerlink" title="分布式"></a>分布式</h3><p><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E5%9B%BE%E7%A4%BA.png" alt="分布式图示"></p>
<h4 id="分布式的困难"><a href="#分布式的困难" class="headerlink" title="分布式的困难"></a>分布式的困难</h4><ul>
<li>远程调用</li>
<li>服务发现</li>
<li>负载均衡</li>
<li>服务容错</li>
<li>配置管理</li>
<li>服务监控</li>
<li>链路追踪</li>
<li>日志管理</li>
<li>任务调度</li>
<li>……</li>
</ul>
<h4 id="分布式的解决"><a href="#分布式的解决" class="headerlink" title="分布式的解决"></a>分布式的解决</h4><ul>
<li>SpringBoot + SpringCloud<br><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%A4%BA.png" alt="分布式解决图示"></li>
</ul>
<h3 id="云原生"><a href="#云原生" class="headerlink" title="云原生"></a>云原生</h3><p>原生应用如何上云。 Cloud Native</p>
<h4 id="上云的困难"><a href="#上云的困难" class="headerlink" title="上云的困难"></a>上云的困难</h4><ul>
<li>服务自愈</li>
<li>弹性伸缩</li>
<li>服务隔离</li>
<li>自动化部署</li>
<li>灰度发布</li>
<li>流量治理</li>
<li>……</li>
</ul>
<h2 id="如何学习SpringBoot"><a href="#如何学习SpringBoot" class="headerlink" title="如何学习SpringBoot"></a>如何学习SpringBoot</h2><h3 id="官网文档架构"><a href="#官网文档架构" class="headerlink" title="官网文档架构"></a>官网文档架构</h3><p><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/springboot%E5%AE%98%E7%BD%91%E5%9B%BE%E7%A4%BA1.png" alt="springboot官网图示1"></p>
<p><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/springboot%E5%AE%98%E7%BD%91%E5%9B%BE%E7%A4%BA2.png" alt="springboot官网图示2"></p>
<p><a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/wiki#release-notes">Home · spring-projects/spring-boot Wiki · GitHub</a><br><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/springboot%E5%8D%87%E7%BA%A7%E5%86%85%E5%AE%B9%E5%9B%BE%E7%A4%BA.png" alt="springboot升级内容图示"></p>
<h1 id="SpringBoot2入门"><a href="#SpringBoot2入门" class="headerlink" title="SpringBoot2入门"></a>SpringBoot2入门</h1><h2 id="创建maven工程"><a href="#创建maven工程" class="headerlink" title="创建maven工程"></a>创建maven工程</h2><ul>
<li>使用idea创建maven工程</li>
</ul>
<h2 id="引入依赖"><a href="#引入依赖" class="headerlink" title="引入依赖"></a>引入依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="创建主程序"><a href="#创建主程序" class="headerlink" title="创建主程序"></a>创建主程序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainApplication</span> </span>&#123;  </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line">		SpringApplication.run(MainApplication.class,args);  </span><br><span class="line">	&#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="编写业务"><a href="#编写业务" class="headerlink" title="编写业务"></a>编写业务</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;  </span><br><span class="line">	<span class="meta">@GetMapping(&quot;/hello&quot;)</span>  </span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span></span>&#123;  </span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;Hello Spring Boot 2&quot;</span>;  </span><br><span class="line">	&#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><ul>
<li>直接运行main方法</li>
</ul>
<h2 id="简化配置"><a href="#简化配置" class="headerlink" title="简化配置"></a>简化配置</h2><ul>
<li>application.properties</li>
</ul>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">server.port</span>=<span class="string">8888</span></span><br></pre></td></tr></table></figure>

<h2 id="简化部署"><a href="#简化部署" class="headerlink" title="简化部署"></a>简化部署</h2><ul>
<li>直接将项目打成可执行jar，放到对应服务器上运行即可</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="了解自动配置原理"><a href="#了解自动配置原理" class="headerlink" title="了解自动配置原理"></a>了解自动配置原理</h1><h2 id="SpringBoot特点"><a href="#SpringBoot特点" class="headerlink" title="SpringBoot特点"></a>SpringBoot特点</h2><h3 id="依赖管理"><a href="#依赖管理" class="headerlink" title="依赖管理"></a>依赖管理</h3><h4 id="父项目做依赖管理"><a href="#父项目做依赖管理" class="headerlink" title="父项目做依赖管理"></a>父项目做依赖管理</h4><ul>
<li>依赖管理</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>spring-boot-starter-parent 的父项目</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>dependencies中几乎声明了开发中所有常用的依赖的版本号，<font color="#c00000">自动版本仲裁机制</font></li>
</ul>
<h4 id="开发导入starter场景启动器"><a href="#开发导入starter场景启动器" class="headerlink" title="开发导入starter场景启动器"></a>开发导入starter场景启动器</h4><ul>
<li>有很多 <code>spring-boot-starter-*</code> ：<code>*</code>就是某种场景</li>
<li>只要引入starter ，这个场景的所有常规需要的依赖就都会自动引入</li>
<li>SpringBoot所有支持的场景：<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters">Developing with Spring Boot</a></li>
<li>见到的 <code>*-spring-boot-starter</code>：第三方为我们提供的简化开发的场景启动器</li>
<li>所有场景启动器最底层的依赖</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h4 id="无需关注版本号，自动版本仲裁"><a href="#无需关注版本号，自动版本仲裁" class="headerlink" title="无需关注版本号，自动版本仲裁"></a>无需关注版本号，自动版本仲裁</h4><ul>
<li>引入的依赖默认都可以不写版本号</li>
<li>引入非版本仲裁的jar，需要些版本号</li>
</ul>
<h4 id="可以修改默认版本号"><a href="#可以修改默认版本号" class="headerlink" title="可以修改默认版本号"></a>可以修改默认版本号</h4><ul>
<li>查看<code>spring-boot-dependencies</code>里面规定当前依赖的版本 用的key</li>
<li>在当前项目里面重新配置</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>8.0.21<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>也可以在引入依赖的时候直接指定版本，指定后会覆盖父项目所指定的版本</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="自动配置"><a href="#自动配置" class="headerlink" title="自动配置"></a>自动配置</h3><ul>
<li>自动配置Tomcat<ul>
<li>引入Tomcat依赖</li>
<li>配置Tomcat</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- spring-boot-starter-web中自动引入了tomcat的依赖 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>自动配置号SpringMVC</p>
<ul>
<li>引入SpringMVC全套组件</li>
<li>自动配置好SpringMVC常用组件（功能）</li>
</ul>
</li>
<li><p>自动配置号web常见功能，如：字符编码问题</p>
<ul>
<li>SpringBoot帮我们配置好了所有web开发的常见场景</li>
</ul>
</li>
<li><p>默认的包结构</p>
<ul>
<li>主程序所在包及其下面的所有子包里面的组件都会被默认扫描进来</li>
<li>不需要再像以前一样在xml中进行包扫描路径配置</li>
<li>想要改变默认扫描路径：@SpringBootApplication(scanBasePackages = “com.ys”)<ul>
<li>或者：@ComponentScan 指定扫描路径</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="meta">@SpringBootConfiguration</span>  </span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span>  </span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.ys.demo&quot;)</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>各种配置拥有的默认值</p>
<ul>
<li>默认配置最终都会映射到某一个配置类上</li>
<li>配置文件的值最终会绑定到配置类上，这个类会在容器中创建对象</li>
</ul>
</li>
<li><p>按需加载所有自动配置项</p>
<ul>
<li>springboot提供了非常多的starter</li>
<li>引入了哪些场景，这个场景的自动配置才会开启（没有引入的配置不会开启）</li>
<li>springboot所有的自动配置功能都在 <code>spring-boot-autoconfigure</code>包里面</li>
</ul>
</li>
</ul>
<h2 id="容器功能"><a href="#容器功能" class="headerlink" title="容器功能"></a>容器功能</h2><h3 id="组件添加"><a href="#组件添加" class="headerlink" title="组件添加"></a>组件添加</h3><h4 id="Configuration"><a href="#Configuration" class="headerlink" title="@Configuration"></a>@Configuration</h4><ul>
<li>基本使用</li>
<li>full模式和lite模式</li>
<li>最佳实践<ul>
<li>配置类组件之间无依赖关系，用Lite模式加速容器启动过程，减少判断</li>
<li>配置类组件之间有依赖关系，方法会被条用得到之前单实例组件，用Full模式</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment">* 1.配置类里面使用 <span class="doctag">@Bean</span> 标注在方法上给容器注册组件，默认也是单实例的  </span></span><br><span class="line"><span class="comment">* 2.配置类本身也是组件  </span></span><br><span class="line"><span class="comment">* 3. proxyBeanMethods : 代理 bean 的方法（是否对配置类使用代理模式，如果使用代理模式，会在调用配置类里面的方法打的时候检查容器中是否已经存在组件，不存在才会真正调用方法创建组件，如果不使用代理模式，就不会进行检查，每次都创建一个新的组件）  </span></span><br><span class="line"><span class="comment">* Full(proxyBeanMethods = true)、保证每个 <span class="doctag">@Bean</span> 方法无论被调用多少此返回的组件都是单实例的  </span></span><br><span class="line"><span class="comment">* Lite(proxyBeanMethods = false)、每个 <span class="doctag">@Bean</span> 方法每次被调用返回的组件都是新创建出来的  </span></span><br><span class="line"><span class="comment">* 组件存在依赖关系最好使用Full模式默认，如果具体业务需要每次新建组件，或者不存在依赖关系使用 Lite 模式  </span></span><br><span class="line"><span class="comment">*/</span>  </span><br><span class="line"><span class="meta">@Configuration(proxyBeanMethods = true)</span><span class="comment">//告诉Springboot这是一个配置类 == 配置文件  </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>&#123;  </span><br><span class="line">	<span class="comment">/**  </span></span><br><span class="line"><span class="comment">	* Full：外部无论对配置类中的这个组件注册方法调用多次获取的都是之前注册到容器中的单实例对象  </span></span><br><span class="line"><span class="comment">	*/</span>  </span><br><span class="line">	<span class="meta">@Bean</span> <span class="comment">//给容器中添加组件，以方法名作为逐渐的id，返回类型就是组件类型，返回值就是组件在容器中的实例  </span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">user01</span><span class="params">()</span></span>&#123;  </span><br><span class="line">		User user = <span class="keyword">new</span> User(<span class="string">&quot;zhangshan&quot;</span>, <span class="string">&quot;18&quot;</span>);  </span><br><span class="line">		user.setCat(tomcat());  </span><br><span class="line">		<span class="keyword">return</span> user;  </span><br><span class="line">	&#125;  </span><br><span class="line">	<span class="meta">@Bean(&quot;cat&quot;)</span><span class="comment">//也可以在注解中指定组件的id  </span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Cat <span class="title">tomcat</span><span class="params">()</span></span>&#123;  </span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> Cat(<span class="string">&quot;tomcat&quot;</span>);  </span><br><span class="line">	&#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="Bean-Component-Controller-Service-Repository"><a href="#Bean-Component-Controller-Service-Repository" class="headerlink" title="@Bean  @Component @Controller @Service @Repository"></a>@Bean  @Component @Controller @Service @Repository</h4><ul>
<li> @Bean：标记在方法上，代表方法返回的是在一个组件</li>
<li>@Component：标记在类上，表示这个类是一个组件</li>
<li>@Controller：标记在类上，表示这个类是一个控制器</li>
<li>@Service：表示这是一个业务逻辑组件</li>
<li>@Repository：表示这是一个数据库层组件</li>
</ul>
<h4 id="ComponentScan-Import"><a href="#ComponentScan-Import" class="headerlink" title="@ComponentScan @Import"></a>@ComponentScan @Import</h4><ul>
<li>@ComponentScan ： 配置包扫描路径</li>
<li>@Import：给容器中创建某种类型的组件，默认组件的名称就是全类名</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Import(&#123;User.class, DBHelper.class&#125;)</span></span><br></pre></td></tr></table></figure>


<h4 id="Conditional"><a href="#Conditional" class="headerlink" title="@Conditional"></a>@Conditional</h4><ul>
<li>条件装配：满足Conditional指定的条件，则进行组件注入</li>
</ul>
<p><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/%E6%9D%A1%E4%BB%B6%E8%A3%85%E9%85%8D%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%E5%9B%BE%E7%A4%BA.png" alt="条件装配相关注解图示"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConditionalOnMissingBean(name = &quot;tom&quot;)</span></span><br><span class="line"><span class="comment">//不存在名称为 tom 的组件时进行注入</span></span><br></pre></td></tr></table></figure>


<h3 id="原生配置文件引入"><a href="#原生配置文件引入" class="headerlink" title="原生配置文件引入"></a>原生配置文件引入</h3><h4 id="ImportResource"><a href="#ImportResource" class="headerlink" title="@ImportResource"></a>@ImportResource</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ImportResource(&quot;classpath:beans.xml&quot;)</span></span><br><span class="line"><span class="comment">//导入指定位置的xml配置文件</span></span><br></pre></td></tr></table></figure>

<h3 id="配置绑定"><a href="#配置绑定" class="headerlink" title="配置绑定"></a>配置绑定</h3><p>直接通过java的方式进行配置绑定：<br>需要去匹配配置文件中的key，很麻烦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">getProperties</span> </span>&#123;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">         Properties pps = <span class="keyword">new</span> Properties();</span><br><span class="line">         pps.load(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;a.properties&quot;</span>));</span><br><span class="line">         Enumeration enum1 = pps.propertyNames();<span class="comment">//得到配置文件的名字</span></span><br><span class="line">         <span class="keyword">while</span>(enum1.hasMoreElements()) &#123;</span><br><span class="line">             String strKey = (String) enum1.nextElement();</span><br><span class="line">             String strValue = pps.getProperty(strKey);</span><br><span class="line">             System.out.println(strKey + <span class="string">&quot;=&quot;</span> + strValue);</span><br><span class="line">             <span class="comment">//封装到JavaBean。</span></span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>


<h4 id="ConfigurationProperties"><a href="#ConfigurationProperties" class="headerlink" title="@ConfigurationProperties"></a>@ConfigurationProperties</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mycar.brand</span>=<span class="string">BYD  </span></span><br><span class="line"><span class="meta">mycar.price</span>=<span class="string">1000</span></span><br></pre></td></tr></table></figure>

<p>当我们在配置文件中写了如上面的两行配置，只需要进行下面的代码配置，springboot就会帮我们自动绑定相关配置（<code>@ConfigurationProperties</code>直接需要和 <code>@Component</code> 或者 <code>@EnableConfigurationProperties</code> 一起使用，只有在容器中的组件，才会拥有springboot提供的强大功能）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span>  </span><br><span class="line"><span class="meta">@Setter</span>  </span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;mycar&quot;)</span>  </span><br><span class="line"><span class="comment">//前缀匹配，表示匹配哪些前缀开头的配置</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;  </span><br><span class="line">	<span class="keyword">private</span> String brand;  </span><br><span class="line">	<span class="keyword">private</span> Integer price;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="EnableConfigurationProperties-ConfigurationProperties"><a href="#EnableConfigurationProperties-ConfigurationProperties" class="headerlink" title="@EnableConfigurationProperties + @ConfigurationProperties"></a>@EnableConfigurationProperties + @ConfigurationProperties</h4><p>在配置类上标记<code>@EnableConfigurationProperties</code>注解，并在注解中指定启用哪一个类的配置，一定要在配置类上标记(标记了<code>@Configuration</code>注解的类)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(Car.class)</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Component-ConfigurationProperties"><a href="#Component-ConfigurationProperties" class="headerlink" title="@Component + @ConfigurationProperties"></a>@Component + @ConfigurationProperties</h4><p>在配置类上面标记<code>@Component</code>注解，表示将该类注册成一个组件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>  </span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;mycar&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;  </span><br><span class="line"><span class="keyword">private</span> String brand;  </span><br><span class="line"><span class="keyword">private</span> Integer price;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="自动配置原理入门"><a href="#自动配置原理入门" class="headerlink" title="自动配置原理入门"></a>自动配置原理入门</h2><h3 id="引导加载自动配置类"><a href="#引导加载自动配置类" class="headerlink" title="引导加载自动配置类"></a>引导加载自动配置类</h3><p>查看SpringBootApplication注解的源码可以看到，这个注解是由三个注解组成的（已去除java注解定义必须的元注解）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootConfiguration</span>  </span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span>  </span><br><span class="line"><span class="meta">@ComponentScan(excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),  </span></span><br><span class="line"><span class="meta">@Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SpringBootApplication &#123;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="SpringBootConfiguration"><a href="#SpringBootConfiguration" class="headerlink" title="@SpringBootConfiguration"></a>@SpringBootConfiguration</h4><p>@SpringBootConfiguration 注解的源码如下，它只是实现了一个 @Configuration 注解，表示被标记的类是一个配置类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SpringBootConfiguration &#123;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ComponentScan"><a href="#ComponentScan" class="headerlink" title="@ComponentScan"></a>@ComponentScan</h4><p>@ComponentScan注解主要就是指定扫描包路径，springboot默认配置了一些过滤器，用来处理扫描路径</p>
<h4 id="EnableAutoConfiguration"><a href="#EnableAutoConfiguration" class="headerlink" title="@EnableAutoConfiguration"></a>@EnableAutoConfiguration</h4><p>EnableAutoConfiguration注解上面也是标注了两个注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AutoConfigurationPackage</span>  </span><br><span class="line"><span class="meta">@Import(AutoConfigurationImportSelector.class)</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> EnableAutoConfiguration &#123;&#125;</span><br></pre></td></tr></table></figure>

<h5 id="AutoConfigurationPackage"><a href="#AutoConfigurationPackage" class="headerlink" title="@AutoConfigurationPackage"></a>@AutoConfigurationPackage</h5><p>自动配置包，指定了默认的包规则</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用 Import 注解给容器中导入一个组件</span></span><br><span class="line"><span class="meta">@Import(AutoConfigurationPackages.Registrar.class)</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> AutoConfigurationPackage &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>Registrar 类是一个静态内部类，里面一共有两个方法；<br>其中的第一个方法 registerBeanDefinitions 的第一个参数 AnnotationMetadata 元注解信息，这里的信息就是标注了 @SpringBootApplication 注解的类的信息，通过该注解获取到包路径信息，进行扫描。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Registrar</span> <span class="keyword">implements</span> <span class="title">ImportBeanDefinitionRegistrar</span>, <span class="title">DeterminableImports</span> </span>&#123;  </span><br><span class="line">  <span class="comment">//利用Registrar给容器中导入一系列组件</span></span><br><span class="line">  <span class="comment">//将指定的一个包下的所有组件导进来，主启动类所在包</span></span><br><span class="line">	<span class="meta">@Override</span>  </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerBeanDefinitions</span><span class="params">(AnnotationMetadata metadata, BeanDefinitionRegistry registry)</span> </span>&#123;  </span><br><span class="line">		register(registry, <span class="keyword">new</span> PackageImports(metadata).getPackageNames().toArray(<span class="keyword">new</span> String[<span class="number">0</span>]));  </span><br><span class="line">	&#125;  </span><br><span class="line">  </span><br><span class="line">	<span class="meta">@Override</span>  </span><br><span class="line">	<span class="function"><span class="keyword">public</span> Set&lt;Object&gt; <span class="title">determineImports</span><span class="params">(AnnotationMetadata metadata)</span> </span>&#123;  </span><br><span class="line">		<span class="keyword">return</span> Collections.singleton(<span class="keyword">new</span> PackageImports(metadata));  </span><br><span class="line">	&#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Import-AutoConfigurationImportSelector-class"><a href="#Import-AutoConfigurationImportSelector-class" class="headerlink" title="@Import({AutoConfigurationImportSelector.class})"></a>@Import({AutoConfigurationImportSelector.class})</h5><ul>
<li>给容器中添加了 <code>AutoConfigurationImportSelector</code> 组件</li>
<li>会调用 <code>AutoConfigurationImportSelector</code> 中的 <code>selectImports</code> 方法</li>
<li><code>selectImports</code> 方法中会使用 <code>getAutoConfigurationEntry(annotationMetadata)</code>;给容器中导入一些组件</li>
<li>在 <code>getAutoConfigurationEntry</code> 方法中，利用<code> List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes);</code> 获取到所有需要导入到容器中的配置类</li>
<li><code>Map&lt;String, List&lt;String&gt;&gt; loadSpringFactories(ClassLoader classLoader);</code> 加载所有组件</li>
<li>读取一个文件 <code>META-INF/spring.factories</code> <ul>
<li>默认扫描当前系统中所有的 <code>META-INF/spring.factories</code> 文件</li>
<li><code>spring-boot-autoconfigure-2.7.13.jar</code>包里面也有 <code>META-INF/spring.factories</code></li>
</ul>
</li>
</ul>
<p><font color="#c00000">注意：</font>在springboot2.7开始，<code>spring-boot-autoconfigure-2.7.13.jar</code>中自动配置的配置类已经不在<code>META-INF/spring.factories</code>文件中了，而是转移到了<code>/META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code>文件中，</p>
<p><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/factories%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%E7%B1%BB%E5%9B%BE%E7%A4%BA.png" alt="factories文件加载配置类图示"></p>
<p>目前截至到 2.7.13 版本 一共是是144个配置类</p>
<h3 id="按需开启自动配置项"><a href="#按需开启自动配置项" class="headerlink" title="按需开启自动配置项"></a>按需开启自动配置项</h3><ul>
<li>虽然我们144个场景的所有自动配置启动的时候默认全部加载，<code>xxxxAutoConfiguration</code></li>
<li>按照条件装配规则（<code>@Conditional</code>）最终会按需配置</li>
</ul>
<p>如下图可以做一个简单的解析<br><code>@ConditionalOnProperty(prefix = &quot;spring.aop&quot;, name = &quot;auto&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)</code><br>这一行配置表示要去判断<code>spring.aop.auto</code>这个配置项的值是否配置的true，<code>matchIfMissing = true</code>则表示如果没有进行配置也自动开启，意思就是默认开启，出除非配置了关闭才会关闭<br><code>AspectJAutoProxyingConfiguration</code>内部静态类，上面的<code>@Configuration</code>表示这以上一个配置类，<code>@ConditionalOnClass(Advice.class)</code>注解表示当<code>Advice</code>这个类存在的时候才会生效，从图中可以看到该类为红色，所以目前是不生效的。</p>
<p>下面的<code>ClassProxyingConfiguration</code>内部静态类同样是一个配置类，<code>@ConditionalOnMissingClass(&quot;org.aspectj.weaver.Advice&quot;)</code>注解表示<code>Advice</code>这个类不存在的时候才会生效，而下面的<code>@ConditionalOnProperty</code>注解表示<code>spring.aop.proxy-target-class</code>这个类为true才会生效，同样，如果没有配置也会生效，所以该静态内部类里面的bean会生效。<br><img src="/2023/07/15/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/AopAutoConfiguration%E7%B1%BB%E5%9B%BE%E7%A4%BA.png" alt="AopAutoConfiguration类图示"></p>
<h3 id="修改默认配置"><a href="#修改默认配置" class="headerlink" title="修改默认配置"></a>修改默认配置</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span>  </span><br><span class="line"><span class="comment">//如果容器包含MultipartResolver类型的bean这个配置才会生效</span></span><br><span class="line"><span class="meta">@ConditionalOnBean(MultipartResolver.class)</span>  </span><br><span class="line"><span class="comment">//并且这个类型的bean的名称不是 multipartResolver 这个配置才会生效</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME)</span>  </span><br><span class="line"><span class="comment">//给@Bean的方法传了入参，那么这个参数的值就会在容器中找</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> MultipartResolver <span class="title">multipartResolver</span><span class="params">(MultipartResolver resolver)</span> </span>&#123;  </span><br><span class="line">    <span class="comment">// Detect if the user has created a MultipartResolver but named it incorrectly  </span></span><br><span class="line">    <span class="keyword">return</span> resolver;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//这段代码的整体含义就是如果容器中有一个 MultipartResolver 类型的bean，但这个bean的名称并不是 multipartResolver ，就把这个bean重新进行注入，并且设置名称为 multipartResolver （bean名称和方法名相同）</span></span><br><span class="line"><span class="comment">//主要是因为文件解析器的bean名称必须是 multipartResolver ，但是有时候用户自定义的名称并不一定就正确，通过这种方式将bean的名称修改正确</span></span><br></pre></td></tr></table></figure>

<p>springboot会在底层配置好所有必须的bean，但如果用户也进行了配置，那么以用户配置的优先</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span>  </span><br><span class="line"><span class="meta">@ConditionalOnMissingBean</span>  <span class="comment">//如果没有配置这个bean，那么该配置生效</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> CharacterEncodingFilter <span class="title">characterEncodingFilter</span><span class="params">()</span> </span>&#123;  &#125;</span><br></pre></td></tr></table></figure>

<p>总结：</p>
<ul>
<li>SpringBoot先加载所有的自动配置类，<code>xxxxAutoConfiguration</code></li>
<li>每个自动配置类按照条件进行生效，默认都会绑定配置文件类，类中会设置一些默认值，也可以通过配置文件进行修改。<code>xxxProperties</code></li>
<li>生效的配置类就会给容器中装配很多bean</li>
<li>只要容器中有这些bean，就相当于这些功能都有了</li>
<li>定制化配置<ul>
<li>用户直接自己用<code>@Bean</code>自定义bean替换底层的bean</li>
<li>用户去看这个bean获取的配置文件是什么值进行修改，或者从官网文档看。</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties">Common Application Properties (spring.io)</a></p>
<p><code>xxxAutoConfiguration</code> —&gt; 组件 —&gt; <code>xxxProperties</code>里面取值 —&gt; <code>application.properties</code></p>
<h4 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h4><ul>
<li>引入场景依赖<ul>
<li><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters">Developing with Spring Boot</a></li>
</ul>
</li>
<li>查看自动配置了哪些（选做）<ul>
<li>自己分析，引入场景的自动配置一般都会生效</li>
<li>配置文件中添加 <code>dubug=true</code> 开启自动配置报告。<ul>
<li><code>Positive matches:</code>表示已经生效的自动配置</li>
<li><code>Negative matches:</code>表示没有生效的自动配置</li>
</ul>
</li>
</ul>
</li>
<li>是都需要修改<ul>
<li>参照文档修改配置项<ul>
<li><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties">Common Application Properties (spring.io)</a></li>
<li>自己分析，<code>xxxProperties</code>绑定了配置文件的哪些。</li>
</ul>
</li>
<li>自定义加入还或者替换组件<br>  +<code> @Bean</code>、<code>@Component</code> ….</li>
<li>自定义器 <code>xxxCustomizer</code></li>
<li>…</li>
</ul>
</li>
</ul>
<h2 id="开发小技巧"><a href="#开发小技巧" class="headerlink" title="开发小技巧"></a>开发小技巧</h2><h3 id="Lombok"><a href="#Lombok" class="headerlink" title="Lombok"></a>Lombok</h3><p>简化开发，使用注解的方式在编译代码的时候自动生成getter、setter、有参构造、无参构造等方法</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="dev-tools"><a href="#dev-tools" class="headerlink" title="dev-tools"></a>dev-tools</h3><p>热部署，修改了代码之后不需要再重启项目，可以自动重新加载（自动重启项目，并不是真正的热加载）。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Spring-Initailizr-项目初始化"><a href="#Spring-Initailizr-项目初始化" class="headerlink" title="Spring Initailizr(项目初始化)"></a>Spring Initailizr(项目初始化)</h3><ul>
<li>选择我们需要的开发场景</li>
<li>自动依赖引入</li>
<li>自动创建项目结构</li>
<li>自动编写好主配置类</li>
</ul>
<p>也可以使用在线方式：<br>spring：<a target="_blank" rel="noopener" href="https://start.spring.io/">Spring Initializr</a><br>阿里云：<a target="_blank" rel="noopener" href="https://start.aliyun.com/">Cloud Native App Initializer (aliyun.com)</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/SpringBoot2/" rel="tag"># SpringBoot2</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/04/08/java%E5%9F%BA%E7%A1%80/%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/gradle/gradle%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/" rel="prev" title="gradle基础内容">
                  <i class="fa fa-angle-left"></i> gradle基础内容
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/10/28/spring/%E5%B0%9A%E7%A1%85%E8%B0%B7SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD/" rel="next" title="尚硅谷SpringBoot2核心技术-核心功能(二)">
                  尚硅谷SpringBoot2核心技术-核心功能(二) <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
<hr>
<div id="comment-container"></div>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#comment-container',
        appId: 'SsNHix8sOQXkmksOkIvo0jkf-gzGzoHsz',
        appKey: 'BCtPpmnU41TOE7Wr5O0CJFgS'
    })
</script>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">YS</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">788k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">23:52</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.28/fancybox/fancybox.umd.js" integrity="sha256-ytMJGN3toR+a84u7g7NuHm91VIR06Q41kMWDr2pq7Zo=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/fancybox.js"></script>



  





</body>
</html>
